<table class="ui unstackable striped compact table" role="grid">
    <thead>
        <tr role="row">
            <th class="sorting">
                <div appSort="rank">{{ config.isStartList ? 'Order' : 'Rank' }}</div>
            </th>

            <th class="sorting" *ngIf="breakpoint === 'large'">
                <div appSort="racer.bib">Bib</div>
            </th>

            <th class="sorting filterable">
                <div appSort="racer.lastName">Name</div>
                <app-filter></app-filter>
            </th>

            <th class="sorting">
                <div [appSort]="config.isStartList ? 'status' : 'time'">{{ config.isStartList ? 'Status' : 'Time' }}</div>
            </th>

            <th class="sorting" *ngIf="breakpoint === 'large'">
                <div appSort="racer.nationality">Nationality</div>
            </th>

            <th class="sorting" *ngIf="breakpoint !== 'mini'">
                <div appSort="diff">Diff.</div>
            </th>
        </tr>
    </thead>
    <tbody>

        <ng-container *ngIf="breakpoint === 'large'">
            <tr [ngClass]="{'disabled': row.rank == null, 'favorite': row.racer.isFavorite}" *ngFor="let row of rows; trackBy: track" role="row">
                <td><div>{{ row.rank }}</div></td>
                <td><div>{{ row.racer.bib }}</div></td>
                <td><div>{{ row.racer.firstName }} {{ row.racer.lastName }}</div></td>
                <td><div><span [style.font-weight]="!config.isStartList && row.rank == 1 ? 700: 'normal'">{{ getStatus(row) }}</span></div></td>
                <td><div><i class="{{ FLAGS[row.racer.nationality] | lowercase }} flag"></i>{{ FLAGS[row.racer.nationality] || row.racer.nationality }}</div></td>
                <td><div>{{ (row.diff !== null && row.diff < maxVal) ? getDiff(row.diff) : '' }}</div></td>
            </tr>
        </ng-container>

        <ng-container *ngIf="breakpoint === 'small'">
            <tr [ngClass]="{'disabled': row.rank == null, 'favorite': row.racer.isFavorite}" *ngFor="let row of rows; trackBy: track" role="row">
                <td><div>{{ row.rank }}</div></td>
                <td><div><i class="{{ FLAGS[row.racer.nationality] | lowercase }} flag"></i><b>{{ row.racer.lastName }}</b>, {{ row.racer.firstName }}</div></td>
                <td><div><span [style.font-weight]="!config.isStartList && row.rank == 1 ? 700: 'normal'">{{ getStatus(row) }}</span></div></td>
                <td><div>{{ (row.diff !== null && row.diff < maxVal) ? getDiff(row.diff) : '' }}</div></td>
            </tr>
        </ng-container>

        <ng-container *ngIf="breakpoint === 'mini'">
            <tr [ngClass]="{'disabled': row.rank == null, 'favorite': row.racer.isFavorite}" *ngFor="let row of rows; trackBy: track" role="row">
                <td><div>{{ row.rank }}</div></td>
                <td><div><b>{{ row.racer.lastName }}</b>, {{ row.racer.firstName[0] }}</div></td>
                <td><div><span [style.font-weight]="!isStartList && row.rank == 1 ? 700: 'normal'">{{ getStatus(row) }}</span></div></td>
            </tr>
        </ng-container>
    </tbody>
</table>